name: ✅ GBSB4U WebBrowser - BULLETPROOF APK Build 
on: [push, workflow_dispatch] 
 
jobs: 
  build: 
    runs-on: ubuntu-latest 
     
    steps: 
    - uses: actions/checkout@v4 
     
    # ✅ FIX 1: Official Gradle Setup (Web Search Verified) 
    - uses: gradle/gradle-build-action@v3 
      with: 
        gradle-version: 8.6 
         
    # ✅ FIX 2: Java 17 EXPLICIT (No version mismatch) 
    - uses: actions/setup-java@v4 
      with: 
        java-version: '17' 
        distribution: 'temurin' 
         
    # ✅ FIX 3: Android SDK + Licenses FIRST 
    - uses: android-actions/setup-android@v3 
     
    - name: Accept ALL Licenses 
      run: | 
        yes | sdkmanager --licenses 
        sdkmanager --update 
         
    # ✅ FIX 4: Exact SDK Versions (No install failures) 
    - name: Install SDK Components 
      run: | 
        sdkmanager "platforms;android-34" "build-tools;34.0.0" 
        sdkmanager "platforms;android-33" "build-tools;33.0.2" 
         
    # ✅ FIX 5: Gradle Cache + Build 
    - name: Build APKs 
      run: ./gradlew assembleDebug assembleRelease 
       
    # ✅ APK Upload 
    - uses: actions/upload-artifact@v4 
      with: 
        name: GBSB4U-APKs 
        path: | 
          app/build/outputs/apk/debug/app-debug.apk 
          app/build/outputs/apk/release/app-release.apk 


